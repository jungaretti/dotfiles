- clean:
    ~/:
    ~/.config:
      recursive: true
    ~/.gnupg:

# Essentials
- defaults:
    link:
      create: true
- link:
    ~/.gitconfig:
      if: '[ ! $(grep devdiv ~/.gitconfig) ]'
      path: src/git/gitconfig
    ~/.vimrc:
      path: src/vim/vimrc
    ~/.zshrc:
      path: src/zsh/zshrc
      force: true
    ~/.config/alacritty/alacritty.yml:
      path: src/alacritty/alacritty.yml
    ~/.config/crestic/crestic.cfg:
      path: src/crestic/crestic.cfg
    ~/.config/gh/config.yml:
      path: src/gh/config.yml
    ~/.config/restic/exclude.txt:
      path: src/restic/exclude.txt
    ~/.config/topgrade.toml:
      path: src/topgrade/topgrade.toml
    ~/.gnupg/gpg-agent.conf:
      path: src/gnupg/gpg-agent.conf
      if: 'gpg -k' # ensures gpg is initialized
      create: false

# macOS
- defaults:
    link:
      if: '[ "$(uname -s)" = Darwin ]'
      create: true
- link:
    ~/Library/Application Support/iTerm2/DynamicProfiles/Profiles.json:
      path: src/iterm/Profiles.json

# Linux
- defaults:
    link:
      if: '[ "$(uname -s)" = Linux ]'
      create: true
- link:
    ~/.xinitrc:
      path: src/xinit/xinitrc
    ~/.config/fontconfig/fonts.conf:
      path: src/fontconfig/fonts.conf
    ~/.config/i3:
      path: src/i3
    ~/.config/i3status-rust:
      path: src/i3status-rust
    ~/.config/dunst/dunstrc:
      path: src/dunst/dunstrc
    ~/.config/rofi:
      path: src/rofi
